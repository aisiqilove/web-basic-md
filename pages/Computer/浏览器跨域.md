## 跨域

在前端领域中，跨域是指浏览器允许向服务器发送跨域请求

### 同源策略

**同源策略**（Same origin policy）是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响(XSS、CSFR等攻击)。可以说Web是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。所谓同源是指"**协议+域名+端口**"三者相同，即便两个不同的域名指向同一个ip地址，也非同源。

`同源策略是浏览器的行为，是为了保护本地数据不被JavaScript代码获取回来的数据污染，因此拦截的是客户端发出的请求回来的数据接收，即请求发送了，服务器响应了，但是无法被浏览器接收。`

同源策略限制以下几种行为：

* Cookie、LocalStorage 和 IndexDB 无法读取
* DOM和JS对象无法获得
* AJAX 请求不能发送

### 几种解决跨域的方案

1. 跨域资源共享（CORS）
   * 支持所有类型的HTTP请求，但浏览器IE10以下不支持。适合做ajax各种跨域请求；
2. Jsonp
   * 只支持get请求，支持老的IE浏览器。适合加载不同域名的js、css，img等静态资源；
3. iframe
   * 适合主域名相同，子域名不同的跨域请求
4. nginx
5. postMessage
   * 支持主流浏览器和IE10+
6. WebSocket